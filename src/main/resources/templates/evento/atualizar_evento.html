<!DOCTYPE html>
<html lang="pt-BR" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.w3.org/1999/xhtml">
<head>
<meta charset="utf-8" />
<title>Cadastrar Evento | SENAC Feira Virtual</title>
<meta name="viewport"
	content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<meta content="" name="description" />
<meta content="Coderthemes" name="author" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />

<link rel="apple-touch-icon" sizes="180x180"
	href="../../assets/favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32"
	href="../../assets/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16"
	href="../../assets/favicon/favicon-16x16.png">
<link rel="manifest" href="../../assets/favicon/site.webmanifest">
<link rel="mask-icon" href="../../assets/favicon/safari-pinned-tab.svg"
	color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">

<!-- Sweet Alert -->
<link href="../../assets/plugins/sweet-alert2/sweetalert2.min.css"
	rel="stylesheet" type="text/css">

<!-- Plugins css-->
<link
	href="../../assets/plugins/bootstrap-tagsinput/css/bootstrap-tagsinput.css"
	rel="stylesheet" />
<link rel="stylesheet"
	href="../../assets/plugins/switchery/switchery.min.css">
<link href="../../assets/plugins/select2/css/select2.min.css"
	rel="stylesheet" type="text/css" />
<link
	href="../../assets/plugins/timepicker/bootstrap-timepicker.min.css"
	rel="stylesheet">
<link
	href="../../assets/plugins/bootstrap-colorpicker/css/bootstrap-colorpicker.min.css"
	rel="stylesheet">
<link
	href="../../assets/plugins/bootstrap-datepicker/css/bootstrap-datepicker.min.css"
	rel="stylesheet">
<link
	href="../../assets/plugins/clockpicker/css/bootstrap-clockpicker.min.css"
	rel="stylesheet">
<link
	href="../../assets/plugins/bootstrap-daterangepicker/daterangepicker.css"
	rel="stylesheet">
<!-- Summernote css -->
<link href="../../assets/plugins/summernote/summernote-bs4.css"
	rel="stylesheet" />

<!-- App css -->
<link href="../../assets/css/bootstrap.min.css" rel="stylesheet"
	type="text/css" />
<link href="../../assets/css/icons.css" rel="stylesheet" type="text/css" />
<link href="../../assets/css/metismenu.min.css" rel="stylesheet"
	type="text/css" />
<link href="../../assets/css/style.css" rel="stylesheet" type="text/css" />

<script src="../../assets/js/modernizr.min.js"></script>

</head>

<body>
	<div id="wrapper">
		<div class="topbar">

			<!-- LOGO -->
			<div class="topbar-left">
				<a href="index.html" class="logo"> <span> <img
						src="../../assets/images/logo.png" alt="">
				</span> <i> <img src="../../assets/images/logo_sm.png" alt="">
				</i>
				</a>
			</div>

			<nav class="navbar-custom">

				<ul class="list-unstyled topbar-right-menu float-right mb-0">

					<li class="dropdown notification-list"><a
						class="nav-link dropdown-toggle waves-effect waves-light nav-user"
						data-toggle="dropdown" href="#" role="button"
						aria-haspopup="false" aria-expanded="false"> <img
							src="../../assets/images/users/avatar-1.jpg" alt="user"
							class="rounded-circle"> <span class="ml-1">Admin <i
								class="mdi mdi-chevron-down"></i>
						</span>
					</a>
						<div class="dropdown-menu dropdown-menu-right profile-dropdown ">
							<!-- item-->
							<div class="dropdown-item noti-title">
								<h6 class="text-overflow m-0">Bem-vindo(a)!</h6>
							</div>

							<!-- item-->
							<a href="javascript:void(0);" class="dropdown-item notify-item">
								<i class="ti-user"></i> <span>Minha conta</span>
							</a>

							<!-- item-->
							<a href="javascript:void(0);" class="dropdown-item notify-item">
								<i class="ti-settings"></i> <span>Configurações</span>
							</a>

							<!-- item-->
							<a href="javascript:void(0);" class="dropdown-item notify-item">
								<i class="ti-power-off"></i> <span>Sair</span>
							</a>

						</div></li>

				</ul>

				<ul class="list-inline menu-left mb-0">
					<li class="float-left">
						<button
							class="button-menu-mobile open-left waves-light waves-effect">
							<i class="mdi mdi-menu"></i>
						</button>
					</li>
					<!--<li class="hide-phone app-search">
                    <form role="search" class="">
                        <input type="text" placeholder="Pesquisar" class="form-control">
                        <a href=""><i class="fa fa-search"></i></a>
                    </form>
                </li>-->
				</ul>

			</nav>

		</div>

		<div class="left side-menu">
			<div class="user-details">
				<div class="pull-left">
					<img src="../../assets/images/users/avatar-1.jpg" alt=""
						class="thumb-md rounded-circle">
				</div>
				<div class="user-info">
					<a href="#">SENAC</a>
					<p class="text-muted m-0">Administrador</p>
				</div>
			</div>

			<!--- Sidemenu -->
			<div id="sidebar-menu">
				<!-- Left Menu Start -->
				<ul class="metismenu" id="side-menu">
					<li class="menu-title">Navegação</li>
					<li><a href="#"> <i class="fas fa-store"></i><span>
								Stands </span>
					</a></li>

					<li><a href="#"> <i class="far fa-building"></i><span>
								Empresa </span>
					</a></li>

					<li><a href="javascript: void(0);"><i
							class="far fa-calendar-alt"></i><span> Eventos </span> <span
							class="menu-arrow"></span></a>
						<ul class="nav-second-level" aria-expanded="false">
							<li><a href="/evento/cadastrar"><i
									class="fas fa-angle-right"></i> Cadastrar Evento</a></li>
							<li><a href="/evento/listar"><i
									class="fas fa-angle-right"></i> Listar Eventos</a></li>
						</ul></li>

					<li><a href="#"> <i class="fas fa-bullseye"></i> <span>
								Vagas </span>
					</a></li>


					<li><a href="#"> <i class="far fa-file-alt"></i> <span>
								Currículo </span>
					</a></li>

				</ul>

			</div>
			<!-- Sidebar -->
			<div class="clearfix"></div>

		</div>

		<div class="content-page">
			<!-- Start content -->
			<div class="content">
				<div class="container-fluid">
					<form class="form-horizontal" id="formAtualizar" th:object="${eventoDomain}"
						th:action="@{/evento/atualizar}" method="POST" role="form">

						<h4 class="m-b-20 header-title">Atualizar Evento</h4>

						<fieldset>
							<legend>Informações sobre evento</legend>
							<div class="form-row">
								<div class="col-md-1 mb-3">
									<label>Código:</label>
									<input type="text" th:field="*{id}" class="form-control" readonly />
								</div>
							</div>
							<div class="form-row">
								<div class="col-md-3 mb-3">
									<label>Título:</label>
									<input type="text" th:field="*{eventoTitulo}" class="form-control" placeholder="Digite o título do evento">
								</div>

								<div class="col-md-3 mb-3">
									<label>Tipo:</label> <select th:field="*{eventoTipo}"
										class="form-control select2">
										<option value="">Selecionar</option>
										<option th:each="eventoTipoDomain: ${eventoTipoDomainList}"
											th:value="${eventoTipoDomain.id}"
											th:text="${eventoTipoDomain.eventoTipoDescricao}" />
									</select>
								</div>

								<div class="col-md-6 mb-3">
									<label>Data e Hora de Início e Fim:</label>
									<div>
										<div class="input-group">
											<div class="input-group-append">
												<span class="input-group-text"><i
													class="mdi mdi-calendar" style="margin-right: 5px;"></i> <span
													class="mdi mdi-clock"></span></span>
											</div>
											<input type="text"
												class="form-control input-daterange-timepicker"
												name="daterange"
												id="daterange"
												value="" />
											<input type="hidden" id="eventoDataInicio" th:field="*{eventoDataInicio}" />
											<input type="hidden" id="eventoDataFim" th:field="*{eventoDataFim}" />

											<!--<input type="text" th:field="*{eventoDataInicio}" class="form-control" placeholder="dd/mm/aaaa" id="datepicker-autoclose" required> -->
										</div>
										<!-- input-group -->
									</div>
								</div>
							</div>
						</fieldset>

						<fieldset>
							<legend>Stand e Vagas</legend>
							<div class="form-row">
								<div class="col-md-7 mb-3">
									<label>Stand:</label> <select class="form-control select2">
										<option>Pesquise pelo código ou nome</option>
										<optgroup>
											<option value="tipo1">001 - Stand 1</option>
											<option value="tipo2">002 - Stand 2</option>
										</optgroup>
									</select>
								</div>

								<div class="col-md-5 mb-3">
									<label>Quantidade de Vagas:</label> <input type="number"
										th:field="*{eventoVagas}"
										onkeyup="if(this.value<0){this.value= this.value * -1}"
										class="form-control"
										min="0"
										placeholder="Digite a quantidade de vagas">
								</div>
							</div>
						</fieldset>

						<fieldset>
							<legend>Links</legend>
							<div class="form-row">
								<div class="col-md-7 mb-3">
									<label>Link do Evento:</label> <input type="text"
										th:field="*{eventoLink}" class="form-control"
										placeholder="Digite o link do evento - Ex.: https://www.link.com.br">
								</div>

								<div class="col-md-5 mb-3">
									<label>Link do Banner:</label> <input type="text"
										th:field="*{eventoLinkBanner}" class="form-control"
										placeholder="Digite o link do banner - Ex.: https://www.link.com.br">
								</div>
							</div>
						</fieldset>

						<fieldset>
							<legend>Status</legend>
							<div class="form-row">
								<div class="col-md-12 mb-3">
									<div>
										<input type="checkbox" checked data-plugin="switchery"
											data-color="#08358e" />
									</div>
								</div>
							</div>
						</fieldset>
						
						<div class="mt-5 form-row pull-right">
								<a th:href="@{/evento/listar}">
									<button type="button" class="btn btn-primary btn-large"><i class="far fa-times-circle" style="padding-right: 5px;"></i> Cancelar</button>
								</a>
								<button id="salvar" type="submit" class="btn btn-primary btn-large"><i class="fas fa-check " style="padding-right: 5px;"></i> Salvar</button>
						</div>
					</form>
				</div>
				<!-- container -->

				<div class="footer">
					<div>
						<strong>SENAC Feira Virtual</strong> - Copyright © 2020
					</div>
				</div>

			</div>
			<!-- content -->

		</div>

	</div>
	<!-- END wrapper -->
	<script src="https://kit.fontawesome.com/2465da788d.js"
		crossorigin="anonymous"></script>

	<!-- jQuery  -->
	<script src="../../assets/js/jquery.min.js"></script>
	<script src="../../assets/js/popper.min.js"></script>
	<script src="../../assets/js/bootstrap.min.js"></script>
	<script src="../../assets/js/metisMenu.min.js"></script>
	<script src="../../assets/js/waves.js"></script>
	<script src="../../assets/js/jquery.slimscroll.js"></script>

	<script
		src="../../assets/plugins/bootstrap-tagsinput/js/bootstrap-tagsinput.min.js"></script>
	<script src="../../assets/plugins/select2/js/select2.min.js"
		type="text/javascript"></script>
	<script
		src="../../assets/plugins/bootstrap-filestyle/js/bootstrap-filestyle.min.js"
		type="text/javascript"></script>
	<script src="../../assets/plugins/switchery/switchery.min.js"></script>
	<script type="text/javascript"
		src="../../assets/plugins/parsleyjs/parsley.min.js"></script>

	<script src="../../assets/plugins/moment/moment.js"></script>
	<script src="../../assets/plugins/timepicker/bootstrap-timepicker.js"></script>
	<script
		src="../../assets/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js"></script>
	<script
		src="../../assets/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js"></script>
	<script
		src="../../assets/plugins/clockpicker/js/bootstrap-clockpicker.min.js"></script>
	<script
		src="../../assets/plugins/bootstrap-daterangepicker/daterangepicker.js"></script>
	<script src="../../assets/plugins/summernote/summernote-bs4.min.js"></script>

	<!-- form advanced init js -->
	<script src="../../assets/pages/jquery.form-advanced.init.js"></script>

	<!-- Sweet-Alert  -->
	<script src="../../assets/plugins/sweet-alert2/sweetalert2.min.js"></script>
	<script src="../../assets/pages/jquery.sweet-alert.init.js"></script>

	<!-- App js -->
	<script src="../../assets/js/jquery.core.js"></script>
	<script src="../../assets/js/jquery.app.js"></script>

<script>
	$(function(){
		var dataInicio = $("#eventoDataInicio").val()
		dataInicio = new Date(dataInicio).toLocaleString("pt-BR")
		
		var dataFim = $("#eventoDataFim").val()
		dataFim = new Date(dataFim).toLocaleString("pt-BR")
		
		var dataEvento = dataInicio + " - " + dataFim
		
		$("#daterange").val(dataEvento)
		
		$("#salvar").click(function(event) {
			event.preventDefault();
            swal({
                title: 'Você tem certeza?',
                text: "Você tem certeza que deseja atualizar este registro?",
                type: 'warning',
                showCancelButton: true,
                confirmButtonText: 'Sim, pode atualizar!',
                cancelButtonText: 'Não, cancelar',
                confirmButtonClass: 'btn btn-success',
                cancelButtonClass: 'btn btn-danger m-l-10',
                buttonsStyling: false
            }).then(function () {
            	dataEvento = $("#daterange").val()
            	
            	var data = dataEvento.split(" - ");
            	
            	dataInicio = data[0].toLocaleString("pt-BR")
            	dataFim = data[1].toLocaleString("pt-BR")
            	
				$("#eventoDataInicio").val(dataInicio)
				$("#eventoDataFim").val(dataFim)
                swal({
					title: 'Atualizado!',
					text: 'O registro solicitado foi atualizado com sucesso!',
					type: 'success',
					onClose: submitCadastro
                })
            }, function (dismiss) {
                // dismiss can be 'cancel', 'overlay',
                // 'close', and 'timer'
                if (dismiss === 'cancel') {
                    swal(
                        'Cancelado',
                        'A ação foi cancelada',
                        'error'
                    )
                }
            })
		})
		
		function submitCadastro() {
			$("#formAtualizar").submit()
		}
	})
</script>
</body>
</html>